function downloadFailureDetailsIfPresent(responseData) {
    const failureDetails = responseData.failureDetails;

    if (Array.isArray(failureDetails) && failureDetails.length > 0) {
        const content = failureDetails.join('\n');
        const blob = new Blob([content], { type: 'text/plain; charset=utf-8' });
        const url = URL.createObjectURL(blob);

        // Create the download link but DO NOT attach it to the DOM
        const a = document.createElement("a");
        a.href = url;
        a.download = "upload_failures.txt";

        // Use MouseEvent to simulate the click without DOM insertion
        const clickEvent = new MouseEvent("click", {
            view: window,
            bubbles: true,
            cancelable: true
        });

        a.dispatchEvent(clickEvent);

        // Cleanup
        URL.revokeObjectURL(url);
    }
}
